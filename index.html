<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Netflix Landing Page</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap" rel="stylesheet" />

  <!-- Google Analytics -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-FDBB7C75FV"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-FDBB7C75FV');
  </script>

  <!-- Amplitude Analytics -->
  <script src="https://cdn.amplitude.com/script/ade7e539f08196c7af9b49113c377ba3.js"></script>
  <script>
    window.amplitude.add(window.sessionReplay.plugin({ sampleRate: 1 }));
    window.amplitude.init('ade7e539f08196c7af9b49113c377ba3', {
      fetchRemoteConfig: true,
      autocapture: true
    });
  </script>

  <!-- Mixpanel -->
  <script type="text/javascript">
    (function(f,b){if(!b.__SV){var a,e,i,g;window.mixpanel=b;b._i=[];
    b.init=function(a,e,d){function f(b,h){var a=h.split(".");2==a.length&&(b=b[a[0]],h=a[1]);b[h]=function(){b.push([h].concat(Array.prototype.slice.call(arguments,0)))}}var c=b;"undefined"!==typeof d?c=b[d]=[]:d="mixpanel";c.people=c.people||[];c.toString=function(b){var a="mixpanel";"mixpanel"!==d&&(a+="."+d);b||(a+=" (stub)");return a};c.people.toString=function(){return c.toString(1)+".people (stub)"};i="disable time_event track track_pageview track_links track_forms register register_once alias unregister identify name_tag set_config reset people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user".split(" ");
    for(g=0;g<i.length;g++)f(c,i[g]);b._i.push([a,e,d])};b.__SV=1.2;a=f.createElement("script");a.type="text/javascript";a.async=!0;a.src="https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";e=f.getElementsByTagName("script")[0];e.parentNode.insertBefore(a,e)}})(document,window.mixpanel||[]);
    mixpanel.init("3d7cfe3bafbda9c8c1450f6972c1cb8f");
  </script>

  <!-- ThriveStack -->
  <script src="https://ts-script.app.thrivestack.ai/latest/thrivestack.js" 
    api-key="m9S/wwTPiv7egZcG7DeBdvlsW37YfHRMpstb3xh1S0g=" 
    source="marketing,product">
  </script>
</head>

<body>
  <nav class="navbar">
    <div class="logo">NetFlixX</div>
    <ul class="nav-links">
      <li><a href="#features">Features</a></li>
      <li><a href="#why">Why to Use</a></li>
      <li><a href="#pricing">Pricing</a></li>
    </ul>
    <a href="#login-signup" class="btn-login">Login / Signup</a>
  </nav>

  <header class="hero">
    <h1>Unlimited movies, TV shows, and more.</h1>
    <p>Watch anywhere. Cancel anytime.</p>
    <a href="#login-signup" class="btn-cta">Get Started</a>
  </header>

  <section id="features" class="section">
    <h2>Features</h2>
    <div class="features-list">
      <div class="feature-item">
        <h3>Vast Library</h3>
        <p>Thousands of movies and TV shows at your fingertips.</p>
      </div>
      <div class="feature-item">
        <h3>Watch Anywhere</h3>
        <p>Stream on your phone, tablet, laptop, and TV.</p>
      </div>
      <div class="feature-item">
        <h3>No Ads</h3>
        <p>Enjoy uninterrupted viewing with no commercials.</p>
      </div>
    </div>
  </section>

  <section id="why" class="section dark-section">
    <h2>Why Use NetFlixX?</h2>
    <ul class="why-list">
      <li>Personalized recommendations</li>
      <li>Flexible subscription plans</li>
      <li>High-quality streaming</li>
      <li>Family-friendly content</li>
    </ul>
  </section>

  <section id="pricing" class="section">
    <h2>Pricing</h2>
    <div class="pricing-cards">
      <div class="card">
        <h3>Basic</h3>
        <p class="price">$8.99/mo</p>
        <ul>
          <li>SD Quality</li>
          <li>1 Screen</li>
        </ul>
        <a href="#login-signup" class="btn-card">Choose</a>
      </div>
      <div class="card highlighted">
        <h3>Standard</h3>
        <p class="price">$13.99/mo</p>
        <ul>
          <li>HD Quality</li>
          <li>2 Screens</li>
        </ul>
        <a href="#login-signup" class="btn-card">Choose</a>
      </div>
      <div class="card">
        <h3>Premium</h3>
        <p class="price">$17.99/mo</p>
        <ul>
          <li>Ultra HD</li>
          <li>4 Screens</li>
        </ul>
        <a href="#login-signup" class="btn-card">Choose</a>
      </div>
    </div>
  </section>

  <section id="login-signup" class="section login-section">
    <h2>Login / Signup</h2>
    <form class="auth-form" id="loginForm">
      <input type="email" placeholder="Email" id="loginEmail" required />
      <input type="password" placeholder="Password" id="loginPassword" required />
      <button type="submit" class="btn-auth">Login</button>
      <p class="signup-link">New here? <a href="signup.html" id="signupLink">Sign up now</a></p>
    </form>
  </section>

  <footer class="footer">
    <p>&copy; 2024 NetFlixX. All rights reserved.</p>
  </footer>

  <!-- Onboarding Modal -->
  <div id="onboardingModal" style="display:none; position:fixed; top:0; left:0; width:100vw; height:100vh; background:rgba(0,0,0,0.85); z-index:9999; align-items:center; justify-content:center;">
    <form id="onboardingForm" style="background:#232323; padding:2rem 2.5rem; border-radius:10px; max-width:400px; margin:auto; color:#fff; display:flex; flex-direction:column; gap:1.2rem;">
      <h2 style="color:#e50914; text-align:center;">Tell us about your preferences</h2>
      <label>Favorite Genre:
        <select name="genre" required>
          <option value="">Select</option>
          <option value="Action">Action</option>
          <option value="Comedy">Comedy</option>
          <option value="Drama">Drama</option>
          <option value="Sci-Fi">Sci-Fi</option>
          <option value="Romance">Romance</option>
          <option value="Horror">Horror</option>
        </select>
      </label>
      <label>Favorite Actor:
        <input type="text" name="actor" placeholder="e.g. Tom Hanks" required />
      </label>
      <label>Preferred Country:
        <input type="text" name="country" placeholder="e.g. USA, India" required />
      </label>
      <div class="onboarding-actions">
        <button type="submit">Continue</button>
        <button type="button" class="skip-btn" id="skipOnboarding">Skip</button>
      </div>
    </form>
  </div>

  <script>
    // Track page view
    document.addEventListener('DOMContentLoaded', function() {
      // Track page load
      gtag('event', 'page_view', {
        page_title: document.title,
        page_location: window.location.href,
        page_path: window.location.pathname
      });
      
      amplitude?.logEvent('page_view', {
        page: window.location.pathname,
        title: document.title
      });
      
      mixpanel?.track('page_view', {
        page: window.location.pathname,
        title: document.title
      });

      // Check for recent signup
      const urlParams = new URLSearchParams(window.location.search);
      const fromSignup = urlParams.get('from_signup');
      
      if (fromSignup) {
        const signupData = JSON.parse(localStorage.getItem('tempSignupData'));
        const expiry = localStorage.getItem('signupDataExpiry');
        
        if (signupData && expiry && Date.now() < expiry) {
          // Track successful signup
          if (window.thriveStack) {
            window.thriveStack.track([{
              event_name: "signed_up",
              properties: {
                user_email: signupData.email,
                user_name: signupData.email.split('@')[0],
                utm_campaign: signupData.utm_campaign,
                utm_medium: signupData.utm_medium,
                utm_source: signupData.utm_source,
                utm_term: signupData.utm_term
              },
              user_id: crypto.randomUUID(),
              timestamp: new Date(signupData.timestamp).toISOString()
            }]);
          }
// Track account creation
if (window.thriveStack?.track && !localStorage.getItem('accountCreatedTracked')) {
    const accountId = "netflixx-account-" + crypto.randomUUID();
    const userId = signupData.userId || crypto.randomUUID(); // Ensure this is consistent

    // 1. Track Account Creation
    console.log("create")
window.thriveStack.track([{
        "event_name": "account_created",
        "properties": {
            "account_domain": "acme.xyz",
            "account_id": "ac8db7ba-5139-4911-ba6e-523fd9c4704b",
            "account_name": "Acme"
        },
        "user_id": "18f716ac-37a4-464f-adb7-3cc30032308c",
        "timestamp": "2025-07-21T11:46:22.261Z",
        "context": {
            "group_id": "ac8db7ba-5139-4911-ba6e-523fd9c4704b"  // Ensure this matches the account_id used in the event_name
        }
    }]);
    

    // 2. Track User-Company Association
    window.thriveStack.track([{
        "event_name": "account_added_user",
        "properties": {
            "account_name": signupData.email.split('@')[0] + "'s Account",
            "user_email": signupData.email
        },
        "user_id": userId, // Same as above
        "timestamp": new Date().toISOString(),
        "context": {
            "group_id": accountId // Same as account_id
        }
    }]);

    localStorage.setItem('accountCreatedTracked', 'true');
}
          
          // Track with other analytics
          amplitude?.logEvent('signup_converted', { 
            email: signupData.email,
            ...signupData
          });
          
          mixpanel?.track('signup_converted', { 
            email: signupData.email,
            ...signupData
          });
          
          // Clean up
          localStorage.removeItem('tempSignupData');
          localStorage.removeItem('signupDataExpiry');
        }
      }

      // Login form tracking
      const loginForm = document.getElementById('loginForm');
      if (loginForm) {
        loginForm.addEventListener('submit', function(e) {
          e.preventDefault();
          const email = document.getElementById('loginEmail').value;
          
          amplitude?.logEvent('login_attempt', { email });
          mixpanel?.track('login_attempt', { email });
          gtag('event', 'login_attempt', { email });

          // Simulate successful login (replace with real auth)
          setTimeout(() => {
            amplitude?.logEvent('login_success', { email });
            mixpanel?.track('login_success', { email });
            gtag('event', 'login_success', { email });
            
            // Redirect to onboarding/dashboard
            window.location.href = 'dashboard.html#show-onboarding';
          }, 500);
        });
      }

      // Signup link tracking
      const signupLink = document.getElementById('signupLink');
      if (signupLink) {
        signupLink.addEventListener('click', function() {
          amplitude?.logEvent('signup_link_click');
          mixpanel?.track('signup_link_click');
          gtag('event', 'signup_link_click');
        });
      }

      // Onboarding functions
      function showOnboardingModal() {
        const modal = document.getElementById('onboardingModal');
        modal.style.display = 'flex';
        modal.style.alignItems = 'center';
        modal.style.justifyContent = 'center';

        amplitude?.logEvent('onboarding_started');
        mixpanel?.track('onboarding_started');
        gtag('event', 'onboarding_started');
      }

      function hideOnboardingModal() {
        document.getElementById('onboardingModal').style.display = 'none';
      }

      if (window.location.hash === '#show-onboarding' && !localStorage.getItem('onboardingComplete')) {
        showOnboardingModal();
      }

      document.getElementById('onboardingForm').addEventListener('submit', function(e) {
        e.preventDefault();
        const genre = this.genre.value;
        const actor = this.actor.value;
        const country = this.country.value;

        amplitude?.logEvent('onboarding_step', { step: 'genre', value: genre });
        mixpanel?.track('onboarding_step', { step: 'genre', value: genre });
        gtag('event', 'onboarding_step', { step: 'genre', value: genre });

        amplitude?.logEvent('onboarding_step', { step: 'actor', value: actor });
        mixpanel?.track('onboarding_step', { step: 'actor', value: actor });
        gtag('event', 'onboarding_step', { step: 'actor', value: actor });

        amplitude?.logEvent('onboarding_step', { step: 'country', value: country });
        mixpanel?.track('onboarding_step', { step: 'country', value: country });
        gtag('event', 'onboarding_step', { step: 'country', value: country });

        if (amplitude?.getInstance) {
          amplitude.getInstance().setUserProperties({
            onboarding_skipped: false,
            favorite_genre: genre,
            favorite_actor: actor,
            preferred_country: country
          });
        }

        amplitude?.logEvent('onboarding_complete', {
          skipped: false,
          favorite_genre: genre,
          favorite_actor: actor,
          preferred_country: country
        });
        
        mixpanel?.track('onboarding_complete', {
          skipped: false,
          favorite_genre: genre,
          favorite_actor: actor,
          preferred_country: country
        });
        
        gtag('event', 'onboarding_complete', {
          skipped: false,
          favorite_genre: genre,
          favorite_actor: actor,
          preferred_country: country
        });

        localStorage.setItem('onboardingComplete', '1');
        hideOnboardingModal();
        window.location.href = 'dashboard.html';
      });

      document.getElementById('skipOnboarding').addEventListener('click', function(e) {
        e.preventDefault();

        if (amplitude?.getInstance) {
          amplitude.getInstance().setUserProperties({
            onboarding_skipped: true
          });
        }

        amplitude?.logEvent('onboarding_skip');
        mixpanel?.track('onboarding_skip');
        gtag('event', 'onboarding_skip');

        amplitude?.logEvent('onboarding_complete', { skipped: true });
        mixpanel?.track('onboarding_complete', { skipped: true });
        gtag('event', 'onboarding_complete', { skipped: true });

        localStorage.setItem('onboardingComplete', '1');
        hideOnboardingModal();
        window.location.href = 'dashboard.html';
      });
    });
  </script>
</body>
</html>